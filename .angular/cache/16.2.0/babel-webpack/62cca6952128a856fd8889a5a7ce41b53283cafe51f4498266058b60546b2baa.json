{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/auth.service\";\nexport class UserLoginComponent {\n  constructor(authService) {\n    this.authService = authService;\n  }\n  ngOnInit() {}\n  onLogin(loginForm) {\n    console.log(loginForm.value); // แสดง Object ที่ได้รับจากฟอร์ม\n    const token = this.authService.authUser(loginForm.value);\n    if (token) {\n      localStorage.setItem('token', token.userName);\n      alert('Login Successfully');\n      loginForm.reset();\n    } else {\n      alert('Login Not Successfully');\n    }\n  }\n}\n_class = UserLoginComponent;\n_class.ɵfac = function UserLoginComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.AuthService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-user-login\"]],\n  decls: 21,\n  vars: 1,\n  consts: [[1, \"row\"], [1, \"col-6\", \"m-auto\"], [1, \"card\", \"m-auto\"], [1, \"card-header\", \"text-center\"], [1, \"card-body\"], [3, \"ngSubmit\"], [\"loginForm\", \"ngForm\"], [1, \"form-group\", \"col-12\"], [\"required\", \"\", \"ngModel\", \"\", \"name\", \"userName\", \"placeholder\", \"Enter Username\", 1, \"form-control\"], [\"type\", \"password\", \"required\", \"\", \"ngModel\", \"\", \"name\", \"password\", \"autocomplete\", \"current-password\", \"placeholder\", \"Enter password\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\"]],\n  template: function UserLoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r1 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n      i0.ɵɵtext(4, \" Login \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 4)(6, \"form\", 5, 6);\n      i0.ɵɵlistener(\"ngSubmit\", function UserLoginComponent_Template_form_ngSubmit_6_listener() {\n        i0.ɵɵrestoreView(_r1);\n        const _r0 = i0.ɵɵreference(7);\n        return i0.ɵɵresetView(ctx.onLogin(_r0));\n      });\n      i0.ɵɵelementStart(8, \"div\", 7)(9, \"label\");\n      i0.ɵɵtext(10, \"Username\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(11, \"input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 7)(13, \"label\");\n      i0.ɵɵtext(14, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(15, \"input\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"div\", 7)(17, \"button\", 10);\n      i0.ɵɵtext(18, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"button\", 11);\n      i0.ɵɵtext(20, \" Cancle\");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(7);\n      i0.ɵɵadvance(17);\n      i0.ɵɵproperty(\"disabled\", !_r0.valid);\n    }\n  },\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["UserLoginComponent","constructor","authService","ngOnInit","onLogin","loginForm","console","log","value","token","authUser","localStorage","setItem","userName","alert","reset","i0","ɵɵdirectiveInject","i1","AuthService","selectors","decls","vars","consts","template","UserLoginComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","UserLoginComponent_Template_form_ngSubmit_6_listener","ɵɵrestoreView","_r1","_r0","ɵɵreference","ɵɵresetView","ɵɵelement","ɵɵadvance","ɵɵproperty","valid"],"sources":["C:\\code\\Angular\\my_app\\frontend\\src\\app\\user\\user-login\\user-login.component.ts","C:\\code\\Angular\\my_app\\frontend\\src\\app\\user\\user-login\\user-login.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { NgForm} from '@angular/forms';\nimport { AuthService } from 'src/app/services/auth.service';\n@Component({\n  selector: 'app-user-login',\n  templateUrl: './user-login.component.html',\n  styleUrls: ['./user-login.component.css']\n})\nexport class UserLoginComponent implements OnInit{\n  \n  constructor(private authService: AuthService) {}\n    \n    ngOnInit(){\n      \n    }\n  \n    onLogin(loginForm: NgForm) {\n      console.log(loginForm.value); // แสดง Object ที่ได้รับจากฟอร์ม\n      const token = this.authService.authUser(loginForm.value);\n      if(token){\n        localStorage.setItem('token',token.userName);\n        alert('Login Successfully');\n        loginForm.reset();\n      } else{\n        alert('Login Not Successfully');\n    }\n  }\n    \n\n}\n\n\n","<div class=\"row\">\n  <div class=\"col-6 m-auto\">\n    <div class=\"card m-auto\">\n      <div class=\"card-header text-center\" >\n        Login\n      </div>\n      <div class=\"card-body\">\n        <form #loginForm=\"ngForm\" (ngSubmit)=\"onLogin(loginForm)\">\n          <div class=\"form-group col-12\">\n            <label >Username</label>\n            <input class=\"form-control\" required ngModel name=\"userName\" placeholder=\"Enter Username\">\n          </div>\n          <div class=\"form-group col-12\">\n            <label>Password</label>\n            <input class=\"form-control\" type=\"password\" required ngModel \n            name=\"password\" autocomplete=\"current-password\" placeholder=\"Enter password\">\n          </div>\n          <div class=\"form-group col-12\">\n            <button [disabled]=\"!loginForm.valid\" type=\"submit\" class=\"btn btn-primary\">Login</button>\n            <button type=\"button\" class=\"btn btn-secondary\" > Cancle</button> \n            \n\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</div>\n\n"],"mappings":";;;AAQA,OAAM,MAAOA,kBAAkB;EAE7BC,YAAoBC,WAAwB;IAAxB,KAAAA,WAAW,GAAXA,WAAW;EAAgB;EAE7CC,QAAQA,CAAA,GAER;EAEAC,OAAOA,CAACC,SAAiB;IACvBC,OAAO,CAACC,GAAG,CAACF,SAAS,CAACG,KAAK,CAAC,CAAC,CAAC;IAC9B,MAAMC,KAAK,GAAG,IAAI,CAACP,WAAW,CAACQ,QAAQ,CAACL,SAAS,CAACG,KAAK,CAAC;IACxD,IAAGC,KAAK,EAAC;MACPE,YAAY,CAACC,OAAO,CAAC,OAAO,EAACH,KAAK,CAACI,QAAQ,CAAC;MAC5CC,KAAK,CAAC,oBAAoB,CAAC;MAC3BT,SAAS,CAACU,KAAK,EAAE;KAClB,MAAK;MACJD,KAAK,CAAC,wBAAwB,CAAC;;EAErC;;SAlBWd,kBAAkB;;mBAAlBA,MAAkB,EAAAgB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,WAAA;AAAA;;QAAlBnB,MAAkB;EAAAoB,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,4BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;;MCR/BV,EAAA,CAAAY,cAAA,aAAiB;MAITZ,EAAA,CAAAa,MAAA,cACF;MAAAb,EAAA,CAAAc,YAAA,EAAM;MACNd,EAAA,CAAAY,cAAA,aAAuB;MACKZ,EAAA,CAAAe,UAAA,sBAAAC,qDAAA;QAAAhB,EAAA,CAAAiB,aAAA,CAAAC,GAAA;QAAA,MAAAC,GAAA,GAAAnB,EAAA,CAAAoB,WAAA;QAAA,OAAYpB,EAAA,CAAAqB,WAAA,CAAAV,GAAA,CAAAvB,OAAA,CAAA+B,GAAA,CAAkB;MAAA,EAAC;MACvDnB,EAAA,CAAAY,cAAA,aAA+B;MACrBZ,EAAA,CAAAa,MAAA,gBAAQ;MAAAb,EAAA,CAAAc,YAAA,EAAQ;MACxBd,EAAA,CAAAsB,SAAA,gBAA0F;MAC5FtB,EAAA,CAAAc,YAAA,EAAM;MACNd,EAAA,CAAAY,cAAA,cAA+B;MACtBZ,EAAA,CAAAa,MAAA,gBAAQ;MAAAb,EAAA,CAAAc,YAAA,EAAQ;MACvBd,EAAA,CAAAsB,SAAA,gBAC6E;MAC/EtB,EAAA,CAAAc,YAAA,EAAM;MACNd,EAAA,CAAAY,cAAA,cAA+B;MAC+CZ,EAAA,CAAAa,MAAA,aAAK;MAAAb,EAAA,CAAAc,YAAA,EAAS;MAC1Fd,EAAA,CAAAY,cAAA,kBAAiD;MAACZ,EAAA,CAAAa,MAAA,eAAM;MAAAb,EAAA,CAAAc,YAAA,EAAS;;;;MADzDd,EAAA,CAAAuB,SAAA,IAA6B;MAA7BvB,EAAA,CAAAwB,UAAA,cAAAL,GAAA,CAAAM,KAAA,CAA6B"},"metadata":{},"sourceType":"module","externalDependencies":[]}